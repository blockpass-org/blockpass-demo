!function(){window.bpWidget.VERSION="2.0.0";const e=[];function n(e){return new Promise((n,o)=>{var t=document.createElement("script");t.type="text/javascript",t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,n())}:t.onload=function(){n()},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)})}let o;function t(e){appLinkUrl=o.getApplink(),o.generateSSOData()}function i(e){!function(e){const n=o.clientId,t=o.env,i=window.bpWidget.refId;let d=JSON.stringify({clientId:n,session:e.session,refId:i,env:t});const s={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:290,fill:"#000000",background:"#ffffff",text:d||"Hello something went wrong when trying to generate session, please reload the webpage",radius:.5,quiet:1,mode:4,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:document.getElementById("image_logo")};jQuery("#qrcode").qrcode(s)}(e)}function d(){$("#container-qrcode").fadeOut(200,function(){$("#loadingComponents").fadeIn(100,function(){})})}function s(e){window.bpWidget.onSSOComplete&&window.bpWidget.onSSOComplete(e,t),$("#container-qrcode").hide(),$("#cancel-onboarding").hide(),$("#close-onboarding").show(),$("#loadingComponents").fadeOut(500,function(){$("#welcome-container").fadeIn(1e3)})}window.jQuery||e.push(n("https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js")),Promise.all(e).then(()=>Promise.all([n("https://cdn.blockpass.org/sdk/v2.0.2/blockpass.min.js"),n("https://cdn.blockpass.org/widget/scripts/websdk/jquery-qrcode-0.17.0.min.js")])).then(()=>{(o=new window.Blockpass.WebSDK({clientId:window.bpWidget.clientId,env:window.bpWidget.env})).on("code-refresh",i),o.on("sso-processing",d),o.on("sso-complete",s),o.on("code-expired",e=>{t()}),t(),document.getElementById("close-onboarding").addEventListener("click",function(e){window.parent.postMessage("KYCConnectClose","*")}),document.getElementById("cancel-onboarding").addEventListener("click",function(e){window.parent.postMessage("KYCConnectCancel","*")}),document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&window.parent.postMessage("KYCConnectCancel","*")}}).catch(e=>void 0)}();